(()=>{var e={289:e=>{class r{constructor(e,r=0,o=!1){this.length=e,this.hitNo=r,this.isSunk=o,this.coordinates=[],this.wasHit=new Array(e).fill(!1)}hit(e){this.hitNo++,this.wasHit[e]=!0,this.checkIsSunk()}checkIsSunk(){this.length===this.hitNo&&(this.isSunk=!0)}}class o{constructor(){this.board=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],this.ships=[]}placeShip(e,o,t,a="horizontal"){let l=new r(t);if("horizontal"===a)for(let r=0;r<t;r++)this.board[e][o+r]=l,l.coordinates.push([e,o+r]);else if("vertical"===a)for(let r=0;r<t;r++)this.board[e+r][o]=l,l.coordinates.push([e+r,o]);this.ships.push(l)}receiveAttack(e,o){const t=this.board[e][o];if(0===t)this.board[e][o]="miss";else if(t instanceof r){const r=t.coordinates.findIndex((r=>r[0]===e&&r[1]===o));t.hit(r)}}printBoard(){for(let e of this.board){let r=e.map((e=>0===e?"0":"miss"===e?"M":"hit"===e?"H":"S")).join(" ");console.log(r)}}checkAllSunk(){return this.ships.every((e=>e.isSunk))}}class t{constructor(e="person"){this.type=e,this.playerBoard=new o}}e.exports?e.exports={Ship:r,GameBoard:o,Player:t}:(window.Ship=r,window.GameBoard=o,window.Player=t)}},r={};function o(t){var a=r[t];if(void 0!==a)return a.exports;var l=r[t]={exports:{}};return e[t](l,l.exports,o),l.exports}o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";var e=o(289);const r={$docBody:document.querySelector("body"),$boardsContainer:document.querySelector(".boards-container"),$playerBoard:document.querySelector(".player-board"),$computerBoard:document.querySelector(".computer-board"),$playerRow:[],$playerCellArray:[[],[],[],[],[],[],[],[],[],[]],$compRow:[],$compCellArray:[[],[],[],[],[],[],[],[],[],[]]};let t=new e.Player,a=new e.Player("computer");function l(){for(let o=0;o<10;o++)for(let l=0;l<10;l++){let c=t.playerBoard.board[o][l],i=r.$playerCellArray[o][l];i.style.backgroundColor="",c instanceof e.Ship&&!0===c.isSunk?i.style.backgroundColor="black":c instanceof e.Ship&&c.wasHit.some(((e,r)=>c.coordinates[r][0]===o&&c.coordinates[r][1]===l&&e))?i.style.backgroundColor="green":"miss"===c?i.style.backgroundColor="red":0===c?i.style.backgroundColor="white":c instanceof e.Ship&&(i.style.backgroundColor="grey");let s=a.playerBoard.board[o][l],n=r.$compCellArray[o][l];n.style.backgroundColor="",s instanceof e.Ship&&!0===s.isSunk?n.style.backgroundColor="black":s instanceof e.Ship&&s.wasHit.some(((e,r)=>s.coordinates[r][0]===o&&s.coordinates[r][1]===l&&e))?n.style.backgroundColor="green":"miss"===s?n.style.backgroundColor="red":0===s&&(n.style.backgroundColor="white")}}function c(e,r){a.playerBoard.receiveAttack(e,r),t.playerBoard.receiveAttack(Math.floor(10*Math.random()),Math.floor(10*Math.random())),l()}!function(){for(let e=0;e<10;e++){let o=document.createElement("div"),t=document.createElement("div");o.classList.add("player-row"),t.classList.add("comp-row"),o.setAttribute("id",`player-row${e}`),t.setAttribute("id",`comp-row${e}`),r.$playerBoard.appendChild(o),r.$computerBoard.appendChild(t),r.$playerRow[e]=document.querySelector(`#player-row${e}`),r.$compRow[e]=document.querySelector(`#comp-row${e}`);for(let a=0;a<10;a++){let l=document.createElement("div"),c=document.createElement("div");l.classList.add("player-cell"),c.classList.add("comp-cell"),l.setAttribute("id",`player-cell${e}-${a}`),c.setAttribute("id",`comp-cell${e}-${a}`),o.appendChild(l),t.appendChild(c),r.$playerCellArray[e][a]=document.querySelector(`#player-cell${e}-${a}`),r.$compCellArray[e][a]=document.querySelector(`#comp-cell${e}-${a}`)}}}(),t.playerBoard.placeShip(3,4,4),t.playerBoard.placeShip(1,2,2),t.playerBoard.placeShip(6,4,3,"vertical"),a.playerBoard.placeShip(4,4,3),a.playerBoard.placeShip(1,1,4,"vertical"),a.playerBoard.placeShip(6,6,2),console.log(t.playerBoard.board),console.log(a.playerBoard.board),l(),console.log(r.$compCellArray);for(let e=0;e<10;e++)for(let o=0;o<10;o++)r.$compCellArray[e][o].addEventListener("click",(()=>c(e,o)))})()})();